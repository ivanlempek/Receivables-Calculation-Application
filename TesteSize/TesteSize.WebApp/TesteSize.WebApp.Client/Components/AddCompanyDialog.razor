@using BaseDTOs.Company
@using TesteSize.BaseDTOs.Enums

<EditForm Model="newCompany" OnValidSubmit="HandleValidSubmit">
    <MudDialog>
        <DialogContent>

            <MudOverlay Visible="_isLoading" DarkBackground="true" Absolute="false">
                <MudProgressCircular Class="spinner" Color="Color.Secondary" Indeterminate="true" />
            </MudOverlay>

            <DataAnnotationsValidator />
            <MudTextField Label="Nome" @bind-Value="newCompany.Nome" For="@(() => newCompany.Nome)" Required="true" />
            <MudTextField Label="CNPJ" @bind-Value="newCompany.CNPJ" For="@(() => newCompany.CNPJ)" Required="true" />
            <MudTextField Label="Faturamento Mensal" @bind-Value="newCompany.FaturamentoMensal" For="@(() => newCompany.FaturamentoMensal)" Required="true" />
            <MudSelect 
                T="Ramo"
                Label="Ramos"
                @bind-Value="newCompany.Ramo"
                Placeholder="Escolha um ramo"
                Required="true">
                <MudSelectItem Value="@Ramo.Servicos">Serviços</MudSelectItem>
                <MudSelectItem Value="@Ramo.Produtos">Produtos</MudSelectItem>
            </MudSelect>

        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Primary" ButtonType="ButtonType.Submit">@buttonText</MudButton>
            <MudButton Color="Color.Secondary" OnClick="Cancel">Cancelar</MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>

<style>
    .mud-dialog {
        min-width: 450px;
        border-radius: 10px;
    }

    .mud-dialog .mud-dialog-content {
        overflow: hidden !important;
    }

    .mud-card-actions {
        justify-content: space-between;
    }

    .mud-dialog .mud-dialog-actions {
        padding-right: 1em;
    }

    .mud-card-content {
        padding: 25px !important;
    }

    .mud-dialog-title {
        padding-bottom: 0px !important;
    }

</style>