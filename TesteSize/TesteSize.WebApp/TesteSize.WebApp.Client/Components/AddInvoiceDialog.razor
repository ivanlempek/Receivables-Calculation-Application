@using BaseDTOs.Invoice
@using TesteSize.BaseDTOs.Company
@using TesteSize.BaseDTOs.Enums

<EditForm Model="newInvoice" OnValidSubmit="HandleValidSubmit">
    <MudDialog>
        <DialogContent>
            
            <MudOverlay Visible="_isLoading" DarkBackground="true" Absolute="false">
                <MudProgressCircular Class="spinner" Color="Color.Secondary" Indeterminate="true" />
            </MudOverlay>

            <DataAnnotationsValidator />
            <MudTextField Label="Número" @bind-Value="newInvoice.Numero" For="@(() => newInvoice.Numero)" Required="true" />
            <MudTextField Label="Valor" @bind-Value="newInvoice.Valor" For="@(() => newInvoice.Valor)" Required="true" />
            <MudTextField Label="Faturamento Mensal" @bind-Value="newInvoice.DataVencimento" For="@(() => newInvoice.DataVencimento)" Required="true" />
            <MudAutocomplete
                @bind-Value="_company"
                SearchFunc="Search"
                Variant="Variant.Text"
                Label="Empresa"
                Placeholder="Escolha uma empresa"
                Required="true">
            </MudAutocomplete>

        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Primary" ButtonType="ButtonType.Submit">@buttonText</MudButton>
            <MudButton Color="Color.Secondary" OnClick="Cancel">Cancelar</MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>

<style>
    .mud-dialog {
        min-width: 450px;
        border-radius: 10px;
    }

    .mud-dialog .mud-dialog-content {
        overflow: hidden !important;
    }

    .mud-card-actions {
        justify-content: space-between;
    }

    .mud-dialog .mud-dialog-actions {
        padding-right: 1em;
    }

    .mud-card-content {
        padding: 25px !important;
    }

    .mud-dialog-title {
        padding-bottom: 0px !important;
    }

</style>